$("#mainForm .submit-btn").click(function (e) {
    e.preventDefault()
    if(mainFormValidate()) {
        $(`#thankModal`).addClass("modal--active")
    }
})

function mainFormValidate(){
    let phoneIsValid = false
    let nameIsValid = false


    let phoneInput = $("#mainForm input[name='phone']")
    phoneIsValid = phoneFieldValidate($(phoneInput))

    let nameInput = $("#mainForm input[name='name']")
    nameIsValid = fieldIsEmpty($(nameInput))


    if(phoneIsValid && nameIsValid) {
        return true
    } else{
        return false
    }
}

$("#getForm .submit-btn").click(function (e) {
    e.preventDefault()
    if(getFormValidate()) {
        $(`#thankModal`).addClass("modal--active")
    }
})

function getFormValidate(){
    let phoneIsValid = false
    let nameIsValid = false


    let phoneInput = $("#getForm input[name='phone']")
    phoneIsValid = phoneFieldValidate($(phoneInput))

    let nameInput = $("#getForm input[name='name']")
    nameIsValid = fieldIsEmpty($(nameInput))


    if(phoneIsValid && nameIsValid) {
        return true
    } else{
        return false
    }
}

$("#footerForm .submit-btn").click(function (e) {
    e.preventDefault()
    if(footerFormValidate()) {
        $(`.footer-form`).addClass("footer-form--done")
    }
})

function footerFormValidate(){
    let phoneIsValid = false
    let nameIsValid = false


    let phoneInput = $("#footerForm input[name='phone']")
    phoneIsValid = phoneFieldValidate($(phoneInput))

    let nameInput = $("#footerForm input[name='name']")
    nameIsValid = fieldIsEmpty($(nameInput))


    if(phoneIsValid && nameIsValid) {
        return true
    } else{
        return false
    }
}

$(".footer-form__close").click(function () {
    $(`.footer-form`).removeClass("footer-form--done")
})



function fieldIsEmpty(field) {
    let fieldVal = $(field).val()

    if (fieldVal) {
        $(field).removeClass("error")
        return true
    } else {
        $(field).addClass("error")
        return false
    }
}


function phoneFieldValidate(field) {
    let fieldVal = $(field).val()
    fieldVal = fieldVal.replaceAll('_', '').length;

    if (fieldVal === 18) {
        $(field).removeClass("error")
        return true
    } else {
        $(field).addClass("error")
        return false
    }
}



$("[data-modal]").click(function () {
    let modalId = $(this).attr("data-modal")

    $(`#${modalId}`).addClass("modal--active")
    $("body").addClass("fixed-body")
})

$(".modal").click(function () {
    closeModal()
})

$(".modal__close").click(function () {
    closeModal()
})

$(".modal__dialog").click(function (e) {
    e.stopPropagation()
})


function closeModal() {
    $('.modal').removeClass("modal--active")
    $("body").removeClass("fixed-body")
}

function catalogSlider() {
    var swiper = new Swiper('.catalog .swiper-container', {
        slidesPerView: "auto",
        spaceBetween: 15,
        breakpoints:{
            320:{
                slidesPerView: "auto",
                spaceBetween: 15,
            },
            768:{
                spaceBetween: 30,
                slidesPerView: "auto",
            },
            1280:{
                slidesPerView: 4,
                spaceBetween: 15,
            }
        }
    })
}

function examplesSlider() {
    var swiper = new Swiper('.examples .swiper-container', {
        slidesPerView: "auto",
        spaceBetween: 15,
        breakpoints:{
            320:{
                spaceBetween: 15,
            },
            768:{
                spaceBetween: 30,
            }
        }
    })
}

catalogSlider()
examplesSlider()


let calcMinus = document.querySelectorAll(".cartcalc .ccalc-minus")
let calcPlus = document.querySelectorAll(".cartcalc .ccalc-plus")


function cartCalc() {

    calcMinus.forEach(el => {
        el.onclick = function() {
            let input = el.closest('.cartcalc').childNodes[3]
            let a = input.value;
            console.log(input.value);
            if (a > 1) {
                let b = +a - 1;
                input.value = b;
            } else {
                input.value = a;
            }
        }
    });

    calcPlus.forEach(el => {
        el.onclick = function() {
            let input = el.closest('.cartcalc').childNodes[3]
            let a = input.value;
            let b = +a + 1;
            input.value = b;
        }
    });

}

cartCalc()

$('input[type="tel"]').mask('+7 (999) 999 99 99', { autoclear: false });

//# sourceMappingURL=../sourcemaps/main.min.js.map
